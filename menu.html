<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brew & Bloom - Menu</title>
  <meta name="description" content="Display drinks, pastries, and food with category filters and search" />
  <link rel="icon" href="assets/images/branding/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --primary:#6F4E37; --bg:#F7F5F0; }
    .glass { backdrop-filter: blur(10px); background: rgba(255,255,255,0.75); }
    .reveal { opacity:0; transform: translateY(16px); transition: all 0.6s cubic-bezier(.2,.8,.2,1); }
    .reveal.visible { opacity:1; transform: translateY(0); }
  </style>
</head>
<body class="bg-[#F7F5F0] text-[#1F1F1F]">
  <!-- Header (reuse from index) -->
  <header class="glass w-full fixed top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
      <div class="flex items-center">
        <img src="assets/images/branding/logo.png" alt="Brew & Bloom Logo" class="h-10 w-10 mr-3" />
        <span class="font-semibold text-xl" style="color:var(--primary);">Brew & Bloom</span>
      </div>
      <nav class="hidden md:flex space-x-6 font-medium">
        <a href="index.html" class="text-[#1F1F1F]">Home</a>
        <a href="menu.html" class="text-[#1F1F1F]">Menu</a>
        <a href="locations.html" class="text-[#1F1F1F]">Locations</a>
        <a href="online-ordering.html" class="text-[#1F1F1F]">Order</a>
        <a href="gallery.html" class="text-[#1F1F1F]">Gallery</a>
        <a href="contact.html" class="text-[#1F1F1F]">Contact</a>
      </nav>
    </div>
  </header>
  <main class="pt-28 pb-8">
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 reveal">
      <div class="bg-white rounded-xl p-6 shadow-md">
        <div class="flex items-center justify-between">
          <h1 class="text-3xl font-bold" style="font-family: Inter, sans-serif; color:var(--primary);">Menu</h1>
          <div class="text-sm text-[#5C5C5C]">Home / Menu</div>
        </div>
        <p class="mt-2 text-sm">Filter by category, search, and view item details.</p>
      </div>
    </section>

    <!-- Filters -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6 reveal">
      <div class="flex flex-wrap items-center gap-3">
        <button class="category-tag py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-100 transition-all duration-300" data-cat="All">All</button>
        <button class="category-tag py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-100 transition-all duration-300" data-cat="Coffee">Coffee</button>
        <button class="category-tag py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-100 transition-all duration-300" data-cat="Tea">Tea</button>
        <button class="category-tag py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-100 transition-all duration-300" data-cat="Pastry">Pastry</button>
        <button class="category-tag py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-100 transition-all duration-300" data-cat="Food">Food</button>
      </div>
      <div class="mt-3">
        <input id="searchBox" type="search" placeholder="Search menu items..." class="w-full md:w-1/2 border border-gray-300 rounded-lg p-2" />
      </div>
    </section>

    <!-- Menu grid (dynamic) -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 reveal" aria-label="Menu items">
      <div id="menuGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </section>
  </main>

  <!-- Lightbox component placeholder -->
  <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50">
    <img id="lightboxImg" src="" alt="Lightbox" class="max-w-full max-h-full rounded-xl" />
  </div>

  <!-- Footer -->
  <footer class="bg-white mt-12 border-t">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-sm text-[#5C5C5C]">Â© Brew & Bloom Coffee</div>
  </footer>

  <script src="assets/js/app.js"></script>
  <script>
    // Init menu data rendering with a small local dataset fallback
    (async function renderMenu() {
      const grid = document.getElementById('menuGrid');
      const template = document.createElement('template');
      template.innerHTML = `
        <article class="bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300">
          <img src="{{img}}" alt="{{name}}" class="w-full h-40 object-cover rounded" />
          <div class="mt-3">
            <h4 class="font-semibold text-lg">{{name}}</h4>
            <p class="text-sm text-[#5C5C5C]">{{desc}}</p>
            <span class="block mt-2 font-semibold" style="color: var(--primary);">${'{'}{price}{'}'}</span>
          </div>
        </article>
      `;
      // Local sample data as fallback if fetch unavailable
      const data = [
        { id:1, name:'Espresso', category:'Coffee', price:4.25, img:'https://images.unsplash.com/photo-1495471101549-47e4d8c8d2e2?q=80&w=800&auto=format&fit=crop', desc:'Rich and full-bodied' },
        { id:2, name:'Cappuccino', category:'Coffee', price:4.75, img:'https://images.unsplash.com/photo-1526312426766-480f89b8b1b6?q=80&w=800&auto=format&fit=crop', desc:'Silky latte art' },
        { id:3, name:'Green Tea Latte', category:'Tea', price:4.5, img:'https://images.unsplash.com/photo-1526652672208-4936f249b2f9?q=80&w=800&auto=format&fit=crop', desc:'Calming and smooth' },
        { id:4, name:'Blueberry Scone', category:'Pastry', price:3.5, img:'https://images.unsplash.com/photo-1499028344343-cd173ffc68a9?q=80&w=800&auto=format&fit=crop', desc:'Buttery with berries' },
        { id:5, name:'Avocado Toast', category:'Food', price:6.5, img:'https://images.unsplash.com/photo-1551183053-bf91a1d81141?q=80&w=800&auto=format&fit=crop', desc:'Sourdough and greens' },
        { id:6, name:'Chocolate Croissant', category:'Pastry', price:3.75, img:'https://images.unsplash.com/photo-1604908176996-1ddc338e1f6d?q=80&w=800&auto=format&fit=crop', desc:'Flaky, rich chocolate' }
      ];
      // Render function
      function render(items) {
        grid.innerHTML = '';
        items.forEach(it => {
          const node = document.importNode(template.content, true);
          let html = node.innerHTML
            .replace('{{name}}', it.name)
            .replace('{{desc}}', it.desc)
            .replace('${ price }', '$'+it.price.toFixed(2))
            .replace('{{price}}', it.price.toFixed(2))
            .replace('{{img}}', it.img);
          const article = document.createElement('article');
          article.className = 'bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300';
          article.innerHTML = html;
          grid.appendChild(article);
        });
        // Attach lightbox on images
        grid.querySelectorAll('img').forEach(img => {
          img.style.cursor = 'pointer';
          img.addEventListener('click', () => {
            const lb = document.getElementById('lightbox');
            const lbImg = document.getElementById('lightboxImg');
            lbImg.src = img.src;
            lb.classList.remove('hidden');
          });
        });
      }
      render(data);
      // Lightbox close
      document.getElementById('lightbox').addEventListener('click', () => {
        document.getElementById('lightbox').classList.add('hidden');
      });
    })();
  </script>
</body>
</html>
